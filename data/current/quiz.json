{
  "id": "pmle-20260215-",
  "exam_code": "PMLE",
  "domain": "モデルの提供とスケーリング",
  "section": "オンラインモデルサービングのスケーリング",
  "topic": "プライベートエンドポイントへのモデルデプロイ",
  "difficulty": "hard",
  "question": "あなたは Vertex AI でカスタムモデルのオンライン予測システムを設計しています。このシステムには以下の要件があります。1. 予測トラフィックはパブリックインターネットを経由せず、VPC ネットワーク内のみで完結させる必要がある。2. 推論実行時に、モデルコンテナが同じ VPC 内にあるプライベート Cloud SQL インスタンスからメタデータを取得する必要がある。3. 新しいモデルバージョンのデプロイ時に、トラフィック分割（Traffic Splitting）によるカナリアリリースを実施したい。Google Cloud のドキュメントに基づいた最適な設計はどれですか？",
  "options": [
    "Private Service Connect (PSC) を使用してプライベートエンドポイントを作成し、ネイティブのトラフィック分割機能を利用して制御する。",
    "Private Services Access (VPC ピアリング) を使用してプライベートエンドポイントを作成し、deployModel API の trafficSplit パラメータを使用してトラフィックを制御する。",
    "Private Services Access (VPC ピアリング) を使用して複数のプライベートエンドポイントを作成し、アプリケーション側でトラフィックを分割する。",
    "標準のエンドポイントを使用し、VPC Service Controls でアクセスを制限した上で、Cloud SQL には Public IP 経由でアクセスする。"
  ],
  "correct": 2,
  "explanation": "Google Cloud のドキュメントによると、Private Services Access (VPC ピアリング) を使用したプライベートエンドポイントには「トラフィック分割をサポートしていない」という重要な制限があります。この制限の公式な回避策として、モデルを複数のプライベートエンドポイントにデプロイし、アプリケーション（クライアント）側でトラフィックを振り分けることが推奨されています。また、VPC ピアリング経由であれば、モデルコンテナから VPC 内の他のリソース（Cloud SQL など）へのアクセス（プライベートエグレス）が可能ですが、もう一つの選択肢である Private Service Connect (PSC) は、エンドポイントからのプライベートエグレスをサポートしていないため、今回の要件 2 を満たすことができません。"
}
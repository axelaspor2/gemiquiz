{
  "id": "pmle-20260220-cloud-build-mlops",
  "exam_code": "PMLE",
  "domain": "ML パイプラインの自動化とオーケストレーション",
  "section": "モデルの再トレーニング自動化",
  "topic": "Cloud Build を使用した MLOps",
  "difficulty": "medium",
  "question": "あなたは Cloud Build を使用して Vertex AI Pipelines の実行を自動化する MLOps パイプラインを構築しています。cloudbuild.yaml 内のステップで、カスタムサービスアカウント（ml-deploy-sa@project-id.iam.gserviceaccount.com）を指定してパイプラインを送信しようとしたところ、'iam.serviceAccounts.actAs' 権限が不足しているというエラーが発生し、ビルドが失敗しました。最小権限の原則に従ってこの問題を解決するために、IAM で行うべき適切な設定はどれですか？",
  "options": [
    "Cloud Build サービスアカウントに対し、ml-deploy-sa への「サービス アカウント ユーザー（roles/iam.serviceAccountUser）」ロールを付与する。",
    "ml-deploy-sa に対し、Cloud Build サービスアカウントへの「サービス アカウント ユーザー（roles/iam.serviceAccountUser）」ロールを付与する。",
    "Cloud Build サービスアカウントに対し、プロジェクトレベルで「Vertex AI 管理者（roles/aiplatform.admin）」ロールを付与する。",
    "Cloud Build の設定を変更し、サービスアカウントを指定せずにデフォルトの Google 管理サービスアカウントを使用してパイプラインを実行する。"
  ],
  "correct": 0,
  "explanation": "Cloud Build が Vertex AI Pipelines などの他のサービスを特定のサービスアカウントとして実行（借用）する場合、呼び出し元のサービスアカウント（Cloud Build SA）には、ターゲットとなるサービスアカウント（ml-deploy-sa）に対する 'iam.serviceAccounts.actAs' 権限が必要です。この権限は「サービス アカウント ユーザー（roles/iam.serviceAccountUser）」ロールに含まれています。最小権限の原則に基づき、プロジェクト全体ではなく、特定のサービスアカウントのリソースに対してこのロールを付与するのが最適です。Bは付与の方向が逆であり、Cは権限が広すぎ、Dはセキュリティのベストプラクティス（最小権限の原則）に反します。"
}
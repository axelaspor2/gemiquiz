{
  "id": "pde-20260125-cloud-storage",
  "exam_code": "PDE",
  "domain": "データの保存",
  "section": "ストレージソリューションの選択",
  "topic": "Cloud Storage（オブジェクトストレージ）",
  "difficulty": "hard",
  "question": "あるデータエンジニアが、特定の Cloud Storage バケットに保存されているデータの管理を担当しています。このバケットには以下の設定が適用されています。\n\n1. オブジェクト ライフサイクル管理 (OLM): 作成から30日経過したオブジェクトを自動的に削除する。\n2. 保持ポリシー (Retention Policy): 90日間の保持期間を設定し、ポリシーを「ロック (Locked)」している。\n\nバケット内の特定のオブジェクトがアップロードされてから45日が経過しましたが、削除されずに残っていることが確認されました。エンジニアが gsutil rm コマンドを使用して手動でこのオブジェクトを削除しようとしたところ、'403 Forbidden: retentionPolicyNotMet' というエラーメッセージが表示されました。この状況の根本的な原因として、最も適切な説明はどれですか？",
  "options": [
    "保持ポリシーがロックされているため、ライフサイクル管理による削除設定よりも保持ポリシーが優先されている。オブジェクトの経過日数（45日）が保持期間（90日）を満たしていないため、削除が拒否されている。",
    "バケットロックが有効な場合、オブジェクトを削除するにはまずバケットロックを解除する必要があるが、一度ロックされた保持ポリシーは削除や短縮ができない仕様であるため、権限不足としてエラーが発生している。",
    "バケットにオブジェクト バージョニングが有効になっており、現行バージョンのオブジェクトを削除するには先に非現行バージョンをすべて削除するライフサイクルルールが別途必要であるため、削除が保留されている。",
    "プロジェクトに Lien（リエン）が自動的に適用されており、バケット内のオブジェクトの削除操作を含むすべてのリソース変更が組織ポリシーによって一律に禁止されているため、このエラーが発生している。"
  ],
  "correct": 0,
  "explanation": "正解は 0 です。Cloud Storage の保持ポリシー（Retention Policy）は、オブジェクト ライフサイクル管理（OLM）による削除設定よりも優先されます。オブジェクトの経過日数が保持ポリシーで指定された期間（この場合は90日）に達するまでは、OLM による自動削除も、十分な権限を持つユーザーによる手動削除も、'403 Forbidden (retentionPolicyNotMet)' エラーによって拒否されます。バケットロックが有効な場合、この保持ポリシー自体を削除したり期間を短縮したりすることはできないため、オブジェクトが保持期間を満たすまで待つ必要があります。選択肢 4 の Lien（リエン）は、バケットロック適用時に「プロジェクトの削除」を防止するために自動生成されるものですが、個別のオブジェクト削除操作をブロックする直接的な原因ではありません。"
}
{
  "id": "pde-20260120-bigquery",
  "exam_code": "PDE",
  "domain": "データの保存",
  "section": "データモデリング",
  "topic": "BigQuery のパーティショニング",
  "difficulty": "easy",
  "question": "BigQueryにおいて、テーブル内のデータを日付やタイムスタンプ列に基づいて分割し、クエリの実行コストを削減しつつパフォーマンスを向上させたい場合、どの機能を利用するのが最も適切ですか？",
  "options": [
    "クラスタリング",
    "パーティショニング",
    "マテリアライズドビュー",
    "外部テーブル"
  ],
  "correct": 1,
  "explanation": "正解はBのパーティショニングです。\n\n**パーティショニング**は、BigQueryテーブルのデータを指定された列（通常は日付、タイムスタンプ、または整数範囲）に基づいてセグメントに分割する機能です。これにより、クエリが特定のセグメント（パーティション）のみをスキャンするだけで済むため、スキャンされるデータ量を削減し、クエリの実行コストとパフォーマンスを大幅に向上させることができます。\n\n他の選択肢が不正解である理由は以下の通りです。\n*   **A. クラスタリング**: クラスタリングは、指定された列の値に基づいてデータを物理的に並べ替えて格納することで、フィルター処理や集計処理のパフォーマンスを向上させますが、データを物理的に分割するものではありません。パーティショニングと組み合わせて使用することで、さらにパフォーマンスを最適化できますが、データを日付で分割する主な目的にはパーティショニングが直接的です。\n*   **C. マテリアライズドビュー**: マテリアライズドビューは、事前計算されたクエリの結果をキャッシュし、複雑なクエリの実行時間を短縮しますが、テーブル自体のデータを物理的に分割してスキャン量を減らす機能ではありません。\n*   **D. 外部テーブル**: 外部テーブルは、BigQueryのストレージではなく、Cloud Storageなどの外部データソースに保存されているデータに対してBigQueryでクエリを実行できるようにする機能です。BigQueryテーブルのデータ管理やパフォーマンス最適化の直接的な機能ではありません。"
}
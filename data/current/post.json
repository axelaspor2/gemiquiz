{
  "quiz": {
    "id": "pmle-20260214-vertex-ai-feature-st",
    "exam_code": "PMLE",
    "domain": "モデルの提供とスケーリング",
    "section": "オンラインモデルサービングのスケーリング",
    "topic": "Vertex AI Feature Store を使用した特徴のサービング",
    "difficulty": "hard",
    "question": "Vertex AI Feature Store (従来版) を使用して、リアルタイムの不正検知モデルに特徴量をオンラインサービングしています。トラフィックの変動に対応するため、オンラインサービングノードのオートスケーリング（最小2、最大10）を有効にしていますが、毎日決まった時間に発生する急激なトラフィックのスパイク時に、ReadFeatureValues API のレイテンシが大幅に増加し、タイムアウトが発生しています。Cloud Monitoring を確認すると、スパイク発生直後に CPU 使用率が 90% を超えていますが、ノード数が増加してレイテンシが安定するまでに時間がかかっています。この問題の最も可能性の高い原因と対処法はどれですか？",
    "options": [
      "オートスケーリングの CPU 使用率ターゲットのデフォルト設定が 80% と高すぎるため、スケーリングの開始が遅れている。ターゲットを 30% に下げて、より早い段階で予備ノードが追加されるように設定する。",
      "Feature Store (従来版) のオンラインサービングノードは、追加されてから最適なパフォーマンスに達するまでに約 15 分かかる制約がある。急激なスパイクが予測可能な場合は、事前にノード数を手動または API 経由で増やしておく必要がある。",
      "オンラインサービングのストレージ形式として Bigtable が選択されているため、データの読み取りレイテンシに限界がある。超低レイテンシが必要なワークロードでは、最適化されたオンラインサービング (Optimized online serving) を使用するように Feature Store を再作成する。",
      "ReadFeatureValues リクエストのバッチサイズが大きすぎるため、特定のノードに負荷が集中している。クライアント側でバッチサイズを小さくし、並列リクエスト数を増やすことで、全体的なスループットを向上させる。"
    ],
    "correct": 1,
    "explanation": "Vertex AI Feature Store (従来版) のオンラインサービングノードには、ノード数の変更後に最適なパフォーマンスを発揮できるようになるまで約 15 分のウォームアップ時間が必要であるという重要な仕様があります。オートスケーリングは CPU 使用率の上昇を検知してからノードを追加しますが、追加されたノードがすぐにフルパワーで稼働できないため、急激なトラフィックのスパイクには対応しきれず、その間レイテンシが悪化します。この問題に対処するには、スパイクが予測可能であれば、事前にノード数を増やしておく（固定ノード数の更新、または Cloud Scheduler 等を用いた API コール）ことがベストプラクティスです。他の選択肢について、CPU ターゲットの調整（A）やバッチサイズの変更（D）は一般的な最適化には有効ですが、15 分のウォームアップ時間の制約を解決するものではありません。また、形式の変更（C）はベースラインのレイテンシを改善しますが、スパイク時のスケーリング遅延問題の根本解決にはなりません。"
  },
  "message_id": "1472160912465985684",
  "channel_id": "1465902692101787799",
  "posted_at": "2026-02-14T09:21:53.206Z"
}